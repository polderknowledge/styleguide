<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">  
    <link rel="shortcut icon" href="../img/favicon.ico">

    <title>README - Polder Knowledge style guide</title>

    <link rel="stylesheet" href="//cdn.jsdelivr.net/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha256-7s5uDGW3AHqw6xtJmNNtr+OBRJUlgkNJEo78P4b0yRw=" crossorigin="anonymous">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/fontawesome/4.6.3/css/font-awesome.min.css" integrity="sha256-AIodEDkC8V/bHBkfyxzolUMw57jeQ9CauwhVW6YJ9CA=" crossorigin="anonymous">
    <link rel="stylesheet" href="../css/styles-52f3a38875.css">

    
</head>

<body>

    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <span class="navbar-brand">
              <a class="logo-link" href="http://polderknowledge.com" data-toggle="tooltip" data-placement="bottom" title="Polder Knowledge"><img src="../img/logo.svg" height="28" alt="Polder Knowledge" /></a>
              <a href="">Polder Knowledge style guide</a>
            </span>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li >
                        <a href="..">Home</a>
                    </li>
                
                
                
                    <li >
                        <a href="../01-publishing-checklist.html/">01 publishing checklist.html</a>
                    </li>
                
                
                
                    <li >
                        <a href="../01-writing-principles.html/">01 writing principles.html</a>
                    </li>
                
                
                
                    <li >
                        <a href="../02-further-reading.html/">02 further reading.html</a>
                    </li>
                
                
                
                    <li >
                        <a href="../02-voice-and-tone.html/">02 voice and tone.html</a>
                    </li>
                
                
                
                    <li >
                        <a href="../03-writing-about-people.html/">03 writing about people.html</a>
                    </li>
                
                
                
                    <li >
                        <a href="../04-grammar-and-mechanics.html/">04 grammar and mechanics.html</a>
                    </li>
                
                
                
                    <li >
                        <a href="../05-content-types.html/">05 content types.html</a>
                    </li>
                
                
                
                    <li >
                        <a href="../06-web-elements.html/">06 web elements.html</a>
                    </li>
                
                
                
                    <li >
                        <a href="../07-writing-blog-posts.html/">07 writing blog posts.html</a>
                    </li>
                
                
                
                    <li >
                        <a href="../08-writing-technical-content.html/">08 writing technical content.html</a>
                    </li>
                
                
                
                    <li >
                        <a href="../09-writing-legal-content.html/">09 writing legal content.html</a>
                    </li>
                
                
                
                    <li >
                        <a href="../10-writing-email-newsletters.html/">10 writing email newsletters.html</a>
                    </li>
                
                
                
                    <li >
                        <a href="../11-writing-for-social-media.html/">11 writing for social media.html</a>
                    </li>
                
                
                
                    <li >
                        <a href="../12-writing-for-accessibility.html/">12 writing for accessibility.html</a>
                    </li>
                
                
                
                    <li >
                        <a href="../13-writing-for-translation-TODO.html/">13 writing for translation TODO.html</a>
                    </li>
                
                
                
                    <li >
                        <a href="../14-creating-structured-content.html/">14 creating structured content.html</a>
                    </li>
                
                
                
                    <li >
                        <a href="../15-copyright-and-trademarks.html/">15 copyright and trademarks.html</a>
                    </li>
                
                
                
                    <li >
                        <a href="../16-word-list.html/">16 word list.html</a>
                    </li>
                
                
                
                    <li >
                        <a href="../17-tldr.html/">17 tldr.html</a>
                    </li>
                
                
                
                    <li >
                        <a href="../18-resources.html/">18 resources.html</a>
                    </li>
                
                
                
                    <li >
                        <a href="../CHANGELOG/">CHANGELOG</a>
                    </li>
                
                
                
                    <li >
                        <a href="../CONTRIBUTING/">CONTRIBUTING</a>
                    </li>
                
                
                
                    <li >
                        <a href="../LICENSE/">LICENSE</a>
                    </li>
                
                
                
                    <li class="active">
                        <a href="./">README</a>
                    </li>
                
                
                
                    <li >
                        <a href="../readme/">Readme</a>
                    </li>
                
                
                </ul>
            

            <ul class="nav navbar-nav navbar-right">
                <!--<li>-->
                    <!--<a href="#" class="component-toggle" data-toggle="tooltip" data-placement="bottom" title="Show component list">-->
                        <!--<i class="fa fa-book"></i> Components-->
                    <!--</a>-->
                <!--</li>-->

                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                
                    <li>
                        <a href="https://github.com/polderknowledge/styleguide">
                            
                                <i class="fa fa-github"></i>
                            
                            GitHub
                        </a>
                    </li>
                
            </ul>
        </div>
    </div>
</div>

    <!-- content:begin -->
    <div id="page-top" class="container docs">
        
        <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#polder-knowledge-mkdocs-theme">Polder Knowledge MkDocs Theme</a></li>
        
            <li><a href="#gh-pages-automation">gh-pages automation</a></li>
        
            <li><a href="#a-note-on-caching">A note on caching</a></li>
        
            <li><a href="#prismjs">prism.js</a></li>
        
    
    </ul>

    
    <ul class="pager hidden-print">
      <li class="previous">
        <a rel="prev" href="../LICENSE/"><i class="fa fa-arrow-left"></i> Previous</a>
      </li>
      <li class="next">
        <a rel="next" href="../readme/">Next <i class="fa fa-arrow-right"></i></a>
      </li>
    </ul>
    
</div></div>
        <div class="col-md-9" role="main">

<ol class="breadcrumb" role="navigation" aria-label="breadcrumbs navigation">
  <li><a href="">Polder Knowledge style guide</a> &raquo;</li>
  
    
  
  <li class="active">README</li>
</ol>

<h1 id="polder-knowledge-mkdocs-theme">Polder Knowledge MkDocs Theme</h1>
<p>This repository contains the MkDocs theme proposed for Polder Knowledge
documentation.</p>
<p>It is forked from the dist-build of the <a href="tps://github.com/chrissimpkins/cinder">ZF theme</a>
theme, by the Zend Framework team. All credits go to them, we modified the theme for our needs.</p>
<p>The theme itself resides in <code>theme/</code>. Also included are tools for building and
deploying documentation.</p>
<h2 id="gh-pages-automation">gh-pages automation</h2>
<p>To automate GitHub Pages builds, you will need to update the <code>.travis.yml</code> file.</p>
<h3 id="1-setup-a-personal-access-token">1. Setup a personal access token</h3>
<p>You'll need to setup a personal access token on GitHub. You can do this
from your <code>Settings</code> page; access the <code>Personal access tokens</code> screen, generate
a new token, and copy it once generated; this will be the only time GitHub will
show it to you! When you create it, give it only the <code>public_repo</code> scope.</p>
<h3 id="2-encrypt-the-token-for-use-with-travis">2. Encrypt the token for use with Travis</h3>
<p>Next, we'll encrypt that token for use with Travis. You'll need to install the
Travis CLI tool, which is detailed on their <a href="https://docs.travis-ci.com/user/environment-variables/#Encrypted-Variables">Environment Variables page</a>.
Once you have installed the tool and logged in for the first time, run the
following:</p>
<pre class="codehilite"><code class="language-console">$ travis encrypt -r &lt;org&gt;/&lt;repo&gt; GH_TOKEN=&lt;token&gt;</code></pre>


<p>Copy and paste the output into the <code>env</code> section of your <code>.travis.yml</code>:</p>
<pre class="codehilite"><code class="language-yaml">env:
  global:
    - secure: &quot;...&quot;</code></pre>


<h3 id="3-setup-global-environment-variables">3. Setup global environment variables</h3>
<p>These scripts require a few environment variables in order to work:</p>
<ul>
<li><code>SITE_URL</code></li>
<li><code>GH_USER_NAME</code> (Full name of user associated with GitHub token used to push
  documentation)</li>
<li><code>GH_USER_EMAIL</code> (Email address associated with GitHub token used to push
  documentation)</li>
<li><code>GH_REF</code> The host and path, minus the scheme, to the git repository; e.g.
  <code>github.com/zendframework/zend-expressive.git</code></li>
</ul>
<p>As an example:</p>
<pre class="codehilite"><code class="language-yaml">env:
  global:
    - SITE_URL=&quot;https://zendframework.github.io/zend-expressive&quot;
    - GH_USER_NAME=&quot;Matthew Weier O'Phinney&quot;
    - GH_USER_EMAIL=&quot;matthew@&lt;domain&gt;.&lt;tld&gt;&quot;
    - GH_REF=&quot;github.com/zendframework/zend-expressive.git&quot;
    - secure: &quot;...&quot;</code></pre>


<p><strong>Note:</strong> all environment variables use the <code>KEY=VALUE</code> format, while the <code>secure</code> key (which is not an actual environment variable) uses the <code>KEY: VALUE</code> format. </p>
<h3 id="4-choose-a-build-for-deployment">4. Choose a build for deployment</h3>
<p>You should only deploy documentation from a single build job. To do that, we'll
add an environment variable to a single build; on success, that build will then
build and deploy the documentation. We usually use the latest PHP 5 version for
this.</p>
<p>When determining when to build, we only want to build when:</p>
<ul>
<li>on the master branch</li>
<li>if it's not a pull request</li>
</ul>
<p>Finally, MkDocs and its extensions are installed under the user, in
<code>$HOME/.local/bin</code>, so we want to add that to the path when we're on a build
that deploys.</p>
<p>Thefollowing shows an example of the changes necessary, under the 5.6 build:</p>
<pre class="codehilite"><code class="language-yaml">matrix:
  fast_finish: true
  include:
    - php: 5.6
      env:
        - DEPLOY_DOCS=&quot;$(if [[ $TRAVIS_BRANCH == 'master' &amp;&amp; $TRAVIS_PULL_REQUEST == 'false' ]]; then echo -n 'true' ; else echo -n 'false' ; fi)&quot;
        - PATH=&quot;$HOME/.local/bin:$PATH&quot;
    - php: 7
    - php: hhvm
  allow_failures:
    - php: hhvm</code></pre>


<p>We'll use the <code>DEPLOY_DOCS</code> environment variable to determine if we need to
download the them and build the documentation later.</p>
<h3 id="5-conditionally-download-the-theme-and-build-tools">5. Conditionally download the theme and build tools</h3>
<p>If the build is successful, we will want to make sure the theme and build tools
are present. To do this, and ensure the assets downloaded can be cached, we need
to do this as the last step of our <code>script</code>, but <em>only</em> if the rest of the build
has succeeded. We can test that with the <code>$TRAVIS_TEST_RESULT</code> variable.</p>
<p>This repository has a script for installing the repository itself; we'll fetch
that and execute it.</p>
<p>The results look like this:</p>
<pre class="codehilite"><code class="language-yaml">script:
  - &lt;do something ...&gt;
  - if [[ $DEPLOY_DOCS == &quot;true&quot; &amp;&amp; &quot;$TRAVIS_TEST_RESULT&quot; == &quot;0&quot; ]]; then travis_retry curl -sSL https://raw.githubusercontent.com/polderknowledge/mkdocs-theme/master/theme-installer.sh | bash ; fi</code></pre>


<p>This will run the code to install MkDocs and its extensions, and, if the
mkdoc-theme is not yet installed, download the latest version and install it.</p>
<h3 id="6-build-and-deploy-the-documentation-on-success">6. Build and deploy the documentation on success</h3>
<p>Now we'll add the <code>after_success</code> script:</p>
<pre class="codehilite"><code class="language-yaml">after_success:
  - if [[ $DEPLOY_DOCS == &quot;true&quot; ]]; then ./mkdocs-theme/deploy.sh ; fi</code></pre>


<p>The above runs <em>only</em> if the build has been a success, and will not change the
success status.</p>
<h3 id="7-add-caching">7. Add caching</h3>
<p>Chances are that the component you're using is already caching Composer
dependencies, so you'll likely already have a <code>cache</code> section to your
<code>.travis.yml</code>. Regardless, you'll need entries for <code>$HOME/.local</code> and
<code>mkdoc-theme</code> to speed up your builds:</p>
<pre class="codehilite"><code class="language-yaml">cache:
  directories:
    - $HOME/.local
    - mkdocs-theme</code></pre>


<h2 id="a-note-on-caching">A note on caching</h2>
<p>If you followed the steps above, you're caching the MkDocs installation and
zf-mkdoc-theme installation between requests. What if it changes, and you want
to pick up those changes?</p>
<p>You have two ways to clear the cache.</p>
<p>First, you can go to the project's page on Travis-CI (e.g.,
https://travis-ci.org/zendframework/zend-expressive). Once there, click the
"Settings" dropdown on the right side of the screen, and select the "Caches"
item; this takes you to the page detailing all caches. Locate the one for the
"master" branch, and hit the little rubbish bin icon to remove the cache.</p>
<p>Second, you can do it through the Travis-CI API, which is most easily accessed
via the <a href="https://github.com/travis-ci/travis.rb#readme"><code>travis</code> CLI tool</a>. Once
you've installed it and setup your credentials, you can list the caches for the
master branch with:</p>
<pre class="codehilite"><code class="language-console">$ travis cache -b master</code></pre>


<p>You can remove the caches for master using:</p>
<pre class="codehilite"><code class="language-console">$ travis cache -b master --delete</code></pre>


<p>It will prompt you to make certain that's what you want to do, and then list all
caches it deleted when complete.</p>
<h2 id="prismjs">prism.js</h2>
<p>Documentation utilizes prism.js for code snippets. The following options were
selected when creating the CSS/JS used by the documentation via the
http://prismjs.com/download.html page:</p>
<ul>
<li>Minified version</li>
<li>Okaida theme</li>
<li>Markup</li>
<li>CSS</li>
<li>C-like</li>
<li>JavaScript</li>
<li>Apache Configuration</li>
<li>Bash</li>
<li>Batch</li>
<li>CSS Extras</li>
<li>Diff</li>
<li>Docker</li>
<li>Git</li>
<li>Handlebars</li>
<li>HTTP</li>
<li>Ini</li>
<li>JSON</li>
<li>Less</li>
<li>Makefile</li>
<li>Markdown</li>
<li>nginx</li>
<li>PHP</li>
<li>PHP Extras</li>
<li>PowerShell</li>
<li>Puppet</li>
<li>Sass (Sass)</li>
<li>Sass (Scss)</li>
<li>Smarty</li>
<li>SQL</li>
<li>Twig</li>
<li>vim</li>
<li>YAML</li>
</ul>

<hr />


<nav>
  <ul class="pager hidden-print">
    <li class="previous">
      <a rel="prev" href="../LICENSE/"><i class="fa fa-arrow-left"></i> Previous</a>
    </li>
    <li class="next">
      <a rel="next" href="../readme/">Next <i class="fa fa-arrow-right"></i></a>
    </li>
  </ul>
</nav>
</div>
        
    </div>
    <!-- content:end -->

    <div id="footerwrap">
    <div class="container">
        <div class="row site-map">
            <div class="col-lg-3">
              <p>
                <strong>Polder Knowledge</strong><br />
              </p>
            </div>
        </div>

        <div class="row">
            <div class="col-lg-12 centered">
                <a class="back-to-top" href="#page-top"><i class="fa fa-chevron-circle-up fa-4" aria-hidden="true"></i></a>
            </div>
        </div>

        <div class="spacing"></div>

        <div class="row">
            <div class="col-lg-8">
                <h4>Copyright</h4>
                <div class="hline-w"></div>

                <p>&copy; 2016 by <a href="https://www.polderknowledge.com">Polder Knowledge</a>.</p>
            </div>

            <div class="col-lg-4">
                <h4>Contacts</h4>
                <div class="hline-w"></div>
                <p>
                    <a href="irc://irc.freenode.net/polderknowledge" class="btn-social btn-outline" alt="IRC" title="IRC"><i class="fa fa-comment"></i></a>
                    <a href="https://github.com/polderknowledge" class="btn-social btn-outline" alt="Github" title="Github"><i class="fa fa-github"></i></a>
                    <a href="https://twitter.com/polderknowledge" class="btn-social btn-outline" alt="Twitter" title="Twitter"><i class="fa fa-twitter"></i></a>
                </p>
            </div>
        </div>
    </div>
</div>


    <script src="//cdn.jsdelivr.net/jquery/2.2.4/jquery.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
    <script src="//cdn.jsdelivr.net/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha256-KXn5puMvxCw+dAYznun+drMdG1IFl3agK0p/pqT9KAo=" crossorigin="anonymous"></script>
    <script>var base_url = '..';</script>
    <script src="../js/scripts-603bd8fef6.js"></script>
    <script data-main="../mkdocs/js/search.js" src="../mkdocs/js/require.js"></script>

    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">
                        <span aria-hidden="true">&times;</span>
                        <span class="sr-only">Close</span>
                    </button>
                    <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                </div>
                <div class="modal-body">
                    <p>
                        From here you can search these documents. Enter your search terms below.
                    </p>
                    <form role="form">
                        <div class="form-group">
                            <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                        </div>
                    </form>
                    <div id="mkdocs-search-results"></div>
                </div>
                <div class="modal-footer">
                </div>
            </div>
        </div>
    </div>

    <div class="zf-components">
  <div class="zf-components-grid">
    <div class="zf-logo">
      <a href="http://polderknowledge.com" data-toggle="tooltip" data-placement="bottom" title="Go to the Polder Knowledge homepage"><img src="../img/logo.svg" alt="Polder Knowledge" width="250" /></a>
    </div>

    <div class="component-list"></div>

    <p class="zf-components-rollup"><a href="#">Hide list</a></p>
  </div>
</div>

</body>

</html>
